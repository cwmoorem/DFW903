<?xml version="1.0"?>
<PCF
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:noNamespaceSchemaLocation="../../../../../pcf.xsd">
  <ListViewPanel
    id="Policy_Summary_TransactionsLV">
    <ExposeIterator
      flags="transaction"
      valueType="entity.PolicyPeriod"
      widget="Policy_Summary_TransactionsLV"/>
    <Require
      name="policyPeriod"
      type="PolicyPeriod"/>
    <Require
      name="asOfDate"
      type="java.util.Date"/>
    <RowIterator
      checkBoxVisible="!transaction.PolicyTerm.Archived"
      editable="false"
      elementName="transaction"
      hasCheckBoxes="true"
      value="policyPeriod.Policy.CompletedPeriodsWithCost"
      valueType="entity.PolicyPeriod[]">
      <ToolbarFlag
        name="transaction"/>
      <Row
        useArchivedStyle="transaction.PolicyTerm.Archived">
        <DateCell
          id="PeriodEffDate"
          label="DisplayKey.get(&quot;Web.PolicyFile.Summary.Transactions.PeriodEffDate&quot;)"
          sortBy="transaction.PeriodStart, transaction.ModelDate"
          value="transaction.PeriodStart"/>
        <DateCell
          id="TransEffDate"
          label="DisplayKey.get(&quot;Web.PolicyFile.Summary.Transactions.TransEffDate&quot;)"
          sortBy="transaction.EditEffectiveDate, transaction.ModelDate"
          sortDirection="descending"
          sortOrder="1"
          value="transaction.EditEffectiveDate"/>
        <DateCell
          id="IssueDate"
          label="DisplayKey.get(&quot;Web.PolicyFile.Summary.Transactions.CloseDate&quot;)"
          sortBy="transaction.Job.CloseDate"
          value="transaction.Job.CloseDate"/>
        <TextCell
          id="JobType"
          label="DisplayKey.get(&quot;Web.PolicyFile.Jobs.Type&quot;)"
          value="transaction.Job.DisplayType"/>
        <TextCell
          action="JobForward.go(transaction.Job)"
          available="transaction.Job.Viewable"
          id="JobNumber"
          label="DisplayKey.get(&quot;Web.PolicyFile.Summary.Transactions.WorkOrderNumber&quot;)"
          value="transaction.Job.JobNumber"/>
        <MonetaryAmountCell
          formatType="currency"
          id="TotalCost"
          label="DisplayKey.get(&quot;Web.PolicyFile.Summary.Transactions.TransactionCost&quot;)"
          value="transaction.TransactionCostRPT"/>
        <TextCell
          id="Comment"
          label="DisplayKey.get(&quot;Web.PolicyFile.Summary.Transactions.Comment&quot;)"
          value="transaction.Job.Description"/>
      </Row>
    </RowIterator>
  </ListViewPanel>
</PCF>